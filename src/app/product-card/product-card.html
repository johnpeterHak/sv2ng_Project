<div class="product-card">
  <!-- Discount Badge (50% off for all products) -->
  <div class="product-badge">-50%</div>

  <!-- Product Image with loading state -->
  <div class="product-image-container">
    <img
      [src]="product.image"
      alt="{{ product.name }}"
      class="product-image"
      (load)="imageLoaded = true"
      [class.loaded]="imageLoaded"
    />
    <div class="image-placeholder" *ngIf="!imageLoaded"></div>
  </div>

  <!-- Product Info -->
  <div class="product-info">
    <h3 class="product-title" [title]="product.name">{{ product.name }}</h3>

    <p class="product-description" [title]="product.description">
      {{ product.description || "No description available" }}
    </p>

    <div class="product-pricing">
      <span class="current-price">
        {{ product.price | currency : "USD" : "symbol" : "1.2-2" }}
        <span class="khr-price">({{ product.price | usdToKhr }})</span>
      </span>
    </div>

    <button
      class="add-to-cart-button"
      [disabled]="product.qty <= 0"
      (click)="addToCart()"
      [class.disabled]="product.qty <= 0"
    >
      {{ product.qty > 0 ? "Add to Cart" : "Sold Out" }}
      <span *ngIf="isAddingToCart" class="spinner"></span>
    </button>
  </div>
</div>
